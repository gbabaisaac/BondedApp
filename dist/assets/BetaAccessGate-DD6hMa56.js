import{r,j as e}from"./radix-vendor-D14C15Ff.js";import{C as g,e as b,B as i}from"./index-M3q6TuVL.js";import{I as j}from"./input-D1hZyrkL.js";import{b as n}from"./ui-vendor-BZRxtcfS.js";import{L as A}from"./icons-vendor-DY0DtMnS.js";import"./supabase-vendor-BE7OkBLE.js";import"./react-vendor-B2m46t8p.js";const p=["@uri.edu","@illinois.edu","@stanford.edu","@berkeley.edu"];function B({onAccessGranted:d,children:m}){const[o,t]=r.useState(!1),[a,x]=r.useState(""),[h,u]=r.useState(!0);r.useEffect(()=>{const s=localStorage.getItem("betaAccess");t(s==="granted"),u(!1)},[]),r.useEffect(()=>{const s=()=>{localStorage.getItem("betaAccess")!=="granted"&&t(!1)};window.addEventListener("storage",s);const c=setInterval(()=>{localStorage.getItem("betaAccess")!=="granted"&&o&&t(!1)},500);return()=>{window.removeEventListener("storage",s),clearInterval(c)}},[o]);const l=async()=>{if(!a){n.error("Please enter your email");return}p.some(c=>a.toLowerCase().endsWith(c.toLowerCase())||a.toLowerCase()===c.toLowerCase())?(localStorage.setItem("betaAccess","granted"),localStorage.setItem("betaEmail",a),t(!0),d(),n.success("Welcome to the beta! ðŸŽ‰")):n.error("Sorry, this email is not on the beta list yet")};return h?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-[#F9F6F3] to-[#EAEAEA]",children:e.jsx("p",{className:"text-[#1E4F74]",children:"Loading..."})}):o?e.jsx(e.Fragment,{children:m}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-[#F9F6F3] to-[#EAEAEA] p-4 pb-24",children:e.jsx(g,{className:"max-w-md w-full",children:e.jsxs(b,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[e.jsx("img",{src:"/Bonded_transparent_icon.png",alt:"bonded logo",className:"w-16 h-16"}),e.jsx("h1",{className:"text-3xl text-[#1E4F74] lowercase font-bold tracking-wide",children:"bonded"})]}),e.jsx("p",{className:"text-center text-[#475569] mb-6",children:"Social networking for college students"}),e.jsx("div",{className:"bg-[#2E7B9115] border border-[#2E7B9140] rounded-2xl p-4 mb-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(A,{className:"w-5 h-5 text-[#2E7B91] mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-[#1E4F74] mb-1",children:"Closed Beta"}),e.jsx("p",{className:"text-sm text-[#25658A]",children:"bonded is currently in private beta. Enter your .edu email to check if you have access."})]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-[#1E4F74] mb-1.5 block",children:"University Email"}),e.jsx(j,{type:"email",placeholder:"yourname@university.edu",value:a,onChange:s=>x(s.target.value),onKeyPress:s=>s.key==="Enter"&&l(),className:"w-full"})]}),e.jsx(i,{onClick:l,className:"w-full bg-gradient-to-r from-[#2E7B91] to-[#25658A] hover:from-[#25658A] hover:to-[#1E4F74] text-white rounded-2xl",size:"lg",children:"Check Access"})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t text-center",children:[e.jsx("p",{className:"text-sm text-[#475569] mb-2",children:"Don't have access yet?"}),e.jsx(i,{variant:"ghost",size:"sm",onClick:()=>{window.location.href="mailto:youremail@university.edu?subject=bonded Beta Access Request&body=Hi, I'd love to join the bonded beta!"},children:"Request Beta Access"})]})]})})})}export{B as BetaAccessGate};
